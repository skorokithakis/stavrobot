provider = "anthropic"
model = "claude-sonnet-4-20250514"

# Password for HTTP Basic Auth. All endpoints except webhooks require this.
# Change this to something secure. If removed or commented out, all endpoints
# are open to the world.
password = "change-me"

# Authentication: use exactly one of apiKey or authFile.
# apiKey: a static Anthropic API key.
# authFile: path to an auth.json with OAuth credentials (for Claude Pro/Max
#   subscriptions). Generate it by running `npx @mariozechner/pi-coding-agent`,
#   then using the /login command and choosing "Anthropic".
# apiKey = "your-api-key-here"
authFile = "/app/data/auth.json"


# The public HTTPS URL where this server is reachable (no trailing slash).
publicHostname = "https://example.com"

# Optional additional instructions appended to the base system prompt.
# The base prompt is in system-prompt.txt and always applies.
customPrompt = """
I prefer a dry wit and an even tone. Avoid excessive emojis and cheerful language. Use
normal dashes rather than en- or em-dashes. Don't end messages with a full stop, it's
too formal.
"""

# Signal integration. account is the phone number registered with signal-cli.
# allowedNumbers is the allowlist of numbers permitted to message the agent.
[signal]
account = "+1234567890"
allowedNumbers = ["+1234567890"]

# Telegram integration. Create a bot via @BotFather on Telegram to get a token.
# To find your chat ID, message @userinfobot on Telegram.
# The webhook is registered at <publicHostname>/telegram/webhook on startup.
# publicHostname (top-level) must be set when using Telegram.
[telegram]
botToken = "123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
allowedChatIds = [123456789]

# Text-to-speech configuration. Used by the text_to_speech tool.
[tts]
provider = "openai"
apiKey = "your-openai-api-key-here"
model = "gpt-4o-mini-tts"
voice = "marin"
# Optional. Ignored for tts-1 and tts-1-hd models, which don't support it.
instructions = "Speak in a pleasant tone"

# Speech-to-text configuration. Used to transcribe voice notes from Signal and Telegram.
[stt]
provider = "openai"
apiKey = "your-openai-api-key-here"
model = "gpt-4o-transcribe"

# Optional. Enables the web_search tool. Uses a separate API key and model for
# sub-agent search calls. Uncomment to activate.
# [webSearch]
# apiKey = "your-anthropic-api-key-here"
# model = "claude-haiku-4-20250514"

# Optional. Enables the web_fetch tool. Same pattern as webSearch. Uncomment to activate.
# [webFetch]
# apiKey = "your-anthropic-api-key-here"
# model = "claude-haiku-4-20250514"

# Enables the self-programming coder agent. Uses Claude Code headless, which
# requires subscription auth (see README). The model must be a Claude Code
# alias: "sonnet", "opus", or "haiku".
[coder]
model = "sonnet"
